-
  branches:
    only:
    - develop
  version: 1.0.{build}-dev
  configuration: Debug
  install:
    - nuget restore
  image: Visual Studio 2017
  build:
    parallel: true
    verbosity: minimal
  after_build:
    - ps: dotnet publish .\src\MrCMS.Web\MrCMS.Web.csproj -c Debug --no-build
  artifacts:
   - path: '\src\MrCMS.Web\bin\Debug\netcoreapp2.2\publish'
     name: MrCMS.Web
     type: WebDeployPackage
-
  branches:
    only:
    - master
  version: 1.0.{build}-master
  configuration: Release
  image: Visual Studio 2017
  install:
    - nuget restore    
  build:
    parallel: true
    verbosity: minimal
  after_build:
    - ps: dotnet publish .\src\MrCMS.Web\MrCMS.Web.csproj -c Release --no-build
  artifacts:
   - path: '\src\MrCMS.Web\bin\Release\netcoreapp2.2\publish'
     name: MrCMS.Web
     type: WebDeployPackage
-
  branches:
    only:
    - /feature\/.*/
  version: 1.0.{build}-{branch}
  configuration: Debug
  install:
    - nuget restore
  image: Visual Studio 2017
  build:
    parallel: true
    verbosity: minimal
  after_build:
    - ps: dotnet publish .\src\MrCMS.Web\MrCMS.Web.csproj -c Debug --no-build
  artifacts:
   - path: '\src\MrCMS.Web\bin\Debug\netcoreapp2.2\publish'
     name: MrCMS.Web
     type: WebDeployPackage
-
  branches:
    only:
    - /release\/.*/
  version: 1.0.{build}-master
  configuration: Release
  image: Visual Studio 2017
  install:
    - nuget restore    
  build:
    parallel: true
    verbosity: minimal
  after_build:
    - ps: dotnet publish .\src\MrCMS.Web\MrCMS.Web.csproj -c Release --no-build
  artifacts:
   - path: '\src\MrCMS.Web\bin\Release\netcoreapp2.2\publish'
     name: MrCMS.Web
     type: WebDeployPackage